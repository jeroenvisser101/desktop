// @see https://www.electron.build/configuration/configuration
{
  $schema: 'https://raw.githubusercontent.com/electron-userland/electron-builder/master/packages/app-builder-lib/scheme.json',
  appId: 'dev.ulixee.desktop',
  productName: 'Ulixee',
  directories: {
    buildResources: 'build',
  },
  files: [
    'package.json',
    '!packages/**',
    "!dist",
    'out/**',
    'node_modules/**/*',
    'resources/**/*',
    '!.vscode',
    '!**/node_modules/*/{CHANGELOG.md,README.md,README,readme.md,readme}',
    '!**/node_modules/*/{test,__tests__,tests,powered-test,example,examples}',
    '!**/node_modules/prebuilds/**',
    '!**/node_modules/*.node',
    '!**/node_modules/*.d.ts',
    '!**/node_modules/.bin',
  ],
  asarUnpack: [
    'resources/**',
    'node_modules/better-sqlite3/**',
    'node_modules/@argonprotocol/localchain**',
    'node_modules/@ulixee/unblocked-agent-mitm-socket/**',
    'node_modules/**/*.node',
  ],
  mac: {
    category: 'public.app-category.developer-tools',
    target: {
      target: 'default',
      arch: ['x64', 'arm64'],
    },
    hardenedRuntime: true,
    gatekeeperAssess: false,
    extendInfo: {
      LSUIElement: 1,
    },
    entitlements: 'build/entitlements.mac.plist',
    entitlementsInherit: 'build/entitlements.mac.plist',
    //    notarize:  {
    //      tool: 'notarytool',
    //      appleApiKey: '~/.private_keys/AuthKey_5VH6PQ3585.p8',
    //      appleApiKeyId: '5VH6PQ3585',
    //      appleApiIssuer: 'a89474ed-637f-4cf0-8429-da45ef388882',
    //    },
  },
  win: {
    target: 'NSIS',
  },
  linux: {
    category: 'Development',
    target: 'AppImage',
  },
  publish: {
    provider: 'github',
    releaseType: 'release',
  },
  fileAssociations: [
    {
      ext: 'argon',
      name: 'ARGON',
      description: 'Argon Cash',
      icon: 'arg',
      rank: 'Owner',
    },
  ],
}
